extends ../layout/layout

block content
  .d-flex.justify-content-between.flex-wrap.flex-md-nowrap.align-items-center.pt-3.pb-2.mb-3.border-bottom
    h1.h2 Editar Evento
    .btn-toolbar.mb-2.mb-md-0
      a.btn.btn-sm.btn-outline-secondary(href="/eventos")
        i.bi.bi-arrow-left
        |  Volver
  
  //- Mostrar mensajes de error si existen
  if error
    .alert.alert-danger.alert-dismissible.fade.show(role="alert")
      i.bi.bi-exclamation-triangle.me-2
      | #{error}
      button.btn-close(type="button" data-bs-dismiss="alert")

  .row
    .col-lg-8
      .card
        .card-body
          //- Pasar las variables necesarias al formulario
          include componentes/formulario-evento

block scripts
  script.
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Formulario de edición cargado');
      
      // Validación de fechas
      const form = document.getElementById('formEvento');
      const fechaInicio = document.getElementById('fecha_inicio');
      const fechaFin = document.getElementById('fecha_fin');
      
      if (form && fechaInicio && fechaFin) {
        form.addEventListener('submit', function(e) {
          if (fechaInicio.value && fechaFin.value) {
            const inicio = new Date(fechaInicio.value);
            const fin = new Date(fechaFin.value);
            
            if (fin <= inicio) {
              e.preventDefault();
              alert('La fecha de fin debe ser posterior a la fecha de inicio');
              fechaFin.focus();
            }
          }
        });
      }
    });
    