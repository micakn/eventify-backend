extends ../layout/layout

block content
  .row.justify-content-center
    .col-lg-8
      .card
        .card-header.d-flex.justify-content-between.align-items-center
          h3.mb-0
            i.bi.bi-calendar-event.me-2
            | Detalle del Evento
          .btn-group
            a.btn.btn-outline-secondary(href=`/eventos/editar/${evento.id}`)
              i.bi.bi-pencil.me-2
              | Editar
            a.btn.btn-outline-primary(href="/eventos")
              i.bi.bi-arrow-left.me-2
              | Volver

        .card-body
          .row
            .col-md-12
              h4= evento.nombre
              p.text-muted= evento.tipo + ' Â· ' + (evento.estado || '')
              if evento.descripcion
                p= evento.descripcion
              dl.row
                dt.col-md-3 Fecha Inicio
                dd.col-md-9= evento.fechaInicio ? new Date(evento.fechaInicio).toLocaleString() : 'No definida'

                dt.col-md-3 Fecha Fin
                dd.col-md-9= evento.fechaFin ? new Date(evento.fechaFin).toLocaleString() : 'No definida'

                dt.col-md-3 Lugar
                dd.col-md-9= evento.lugar || 'No especificado'

                dt.col-md-3 Presupuesto
                dd.col-md-9= evento.presupuesto ? `$ ${evento.presupuesto.toLocaleString()}` : '$ 0'

                dt.col-md-3 Cliente
                dd.col-md-9
                  if evento.clienteId
                    a(href=`/clientes/${evento.clienteId.id || evento.clienteId._id}`)= evento.clienteId.nombre || (`Cliente ${String(evento.clienteId.id || evento.clienteId._id).slice(0,6)}`)
                    if evento.clienteId.empresa
                      br
                      small.text-muted= evento.clienteId.empresa
                  else
                    span.text-muted No asignado

                dt.col-md-3 Empleado Responsable
                dd.col-md-9
                  if evento.empleadoId
                    a(href=`/empleados/${evento.empleadoId.id || evento.empleadoId._id}`)= evento.empleadoId.nombre || (`Empleado ${String(evento.empleadoId.id || evento.empleadoId._id).slice(0,6)}`)
                    br
                    small.text-muted= evento.empleadoId.rol
                  else
                    span.text-muted No asignado